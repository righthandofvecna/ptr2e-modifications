// main: main.less

.application.sheet.actor.v2 .window-content .tab.active[data-tab=skills] .skill-component.ptr2e-modifications {
    .skill-list .skill {
        &.depth-0 {
            margin-left: 0;
            &.skill-group-label {
                margin-left: calc(16px + 0.25rem);
            }
        }
        &.depth-1 {
            margin-left: calc(16px + 0.25rem);
            &.skill-group-label {
                margin-left: calc(32px + 0.25rem);
            }
        }
        &.depth-2 {
            margin-left: calc(32px + 0.25rem);
            &.skill-group-label {
                margin-left: calc(48px + 0.25rem);
            }
        }
        &.depth-3 {
            margin-left: calc(48px + 0.25rem);
            &.skill-group-label {
                margin-left: calc(64px + 0.25rem);
            }
        }
    }
}

.application.sheet.skill-sheet .ptr2e-modifications {
    .skills {
        div.skill, header.skill,
        div.skill-group, header.skill-group {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            padding: 4px 0;
            text-align: center;
            label, input, button {
                flex: 0 0 22%;
                text-align: center;
            }
            :first-child {
                text-align: left;
                justify-self: left;
                padding-left: 0.5em;
                flex: 1 0;
            }
            &.depth-0 :first-child {
                padding-left: unset;
            }
            &.depth-1 :first-child {
                padding-left: 1.5em;
            }
            &.depth-2 :first-child {
                padding-left: 2.5em;
            }
            &.depth-3 :first-child {
                padding-left: 3.5em;
            }
        }
    }
}


.ptr2e.sheet.xp-sheet .xp-popup {
    gap: 0.5rem;
    display: flex;
    flex-direction: column;

    .actor-scroll {
        display: flex;
        width: 100%;
        overflow-x: auto;
        justify-content: start;
        gap: 0.5rem;
        flex-wrap: wrap;

        img {
          width: 40px;
          height: 40px;
        }
    }

    .party-apply .note {
        opacity: 0.8;
        margin-bottom: 0;
        font-style: italic;
    }

    .prospective-circumstance-modifiers {
        max-height: 300px;
        overflow-y: auto;
    }
    .applied-circumstance-modifiers {
        max-height: 200px;
        overflow-y: auto;
    }

    .cm {
        display: flex;
        gap: 0.5rem;
        width: 100%;
        .label {
            flex: 1;
        }
        .bonus {
            flex: 0;
        }
        input.bonus {
            min-width: 4em;
        }
        button {
            width: 20px;
            height: 20px;
            flex: 0;
        }
    }
}


.changeListStyleImage(@image) {
    list-style: none;

    &::before {
        content: '';
        display: inline-block;
        height: 1em;
        width: 1em;
        background-image: @image;
        background-size: contain;
        background-repeat: no-repeat;
        margin-left: -1.5em;
        padding-right: 0.5em;
    }
}

#perk-web-hud-perk .perk-embed .perk-info .prereqs ul li {
    &.prereq-unmet {
        .changeListStyleImage(url("../img/unmet.png"))
    }
    &.prereq-met {
        .changeListStyleImage(url("../img/met.png"))
    }
    &.prereq-canmeet {
        .changeListStyleImage(url("../img/canmeet.png"))
    }
    &.prereq-unknown {
        .changeListStyleImage(url("../img/unknown.png"))
    }
}

// Clocks
#ptr2e-clock-panel {
    .day-clock {
        height: 125px;
        background-size: cover;
        background-position: center;
        --unfilled-clock-color: darkgray;
        --clock-color: white;
        &.morning {
            background-image: url("../img/clocks/morning.webp");
            // --unfilled-clock-color: rgb(133, 133, 117);
            --clock-color: rgb(252, 252, 129);
        }
        &.daytime {
            background-image: url("../img/clocks/daytime.webp");
            // --unfilled-clock-color: rgb(167, 167, 100);
            --clock-color: yellow;
        }
        &.afternoon {
            background-image: url("../img/clocks/afternoon.webp");
            // --unfilled-clock-color: rgb(180, 137, 72);
            --clock-color: rgb(255, 207, 84);
        }
        &.evening {
            background-image: url("../img/clocks/evening.webp");
            // --unfilled-clock-color: rgb(105, 68, 105);
            --clock-color: rgb(168, 105, 168);
        }
        &.night {
            background-image: url("../img/clocks/night.webp");
            // --unfilled-clock-color: rgb(77, 51, 77);
            --clock-color: rgb(58, 9, 58);
        }

        .clock {
            height: 100px;
            width: 100px;
            background: conic-gradient(var(--clock-color) var(--filled-ratio), var(--unfilled-clock-color) var(--filled-ratio) 1turn);
            --clock-color: inherit !important;
            --clock-color-dark: black;
        }

        .name-section {
            text-shadow: 0px 0px 2px black;

            .name {
                font-size: 1.3em;
            }
        }
    }
}